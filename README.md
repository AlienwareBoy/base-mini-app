[TOC]
# 小程序应用一览表

## 授权

**小程序的授权一般在onLauch里进行判断，但仅支持同步操作,如果有异步操作，会导致先后顺序的问题,目前有我遇见过**

1. 设置一个全局变量,添加一个root页面,所有通过转发进来的页面,先进入root.wxml页面,然后调用登录接口判断是否已在本平台注册,利用setInterval等待，如果有则不进入，如果没有则跳入登陆注册
2. 第二种方法最粗暴,直接判断缓存，如果没有userId则直接去登录注册页，适用于很多模板小程序
3. 个人比较崇尚这种，修改页面的Page对象，在页面的onload之前进行初始化的操作，通过在app.js页面，拿到该页面的路由和参数存入seeion。在注册授权之后，再进行对应的操作.这种操作的方便之处在于可以优化许多重复冗余的代码，如页面埋点,登录检测，特定页面支持游客模式，特定页面需要调用相应的微信API等。刚开始写小程序的时候我一直向往这种写法，因为我看到Vue有类似的操作，而小程序没有，眼馋了许久。

## miniappPromise

1. 对于常用api的 promise化，懒得再写了

##  utils 

1. 对于常用工具类的存放

## component 

1. 对于常用组件的封装,如canvas  img和video的上传，popup,step等


## style

1. 对于项目的样式规范，包含margin,padding,font-size font-color background等

## api

1. 对于ajax的封装



# 最后的总结

小程序我认为没有什么太难的地方了，将近大半年的时间，包括优化和一些代码架构方面的问题 也得到了 解决比如长列表以及一些狗血的api的操作，自己心中也有了底，现在再做小程序基本也得不到太大的提升。准备深入Vue，虽然很享受vue-admin这些github上成熟的项目，但是还是想自己造一个 加深理解
